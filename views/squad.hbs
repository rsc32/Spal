<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="description" content="Log your rig checks online.">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
   <link rel="stylesheet"
         href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
   <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
   <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.cyan-light_blue.min.css">
   <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
<div class="main-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
   <header class="main-header mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600">
      <div class="mdl-layout__header-row">
         <span class="mdl-layout-title">{{title}}</span>
         <div class="mdl-layout-spacer"></div>
      </div>
   </header>

   <div class="main-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50">
      <header class="main-drawer-header"><img src="images/user.jpg" class="user-avatar">
         <div class="user-avatar-dropdown"><span>{{currentUser.first}} {{currentUser.last}}
            (<strong>{{currentUser.role}}</strong>)<br>{{currentUser.email}}</span>
            <div class="mdl-layout-spacer"></div>
         </div>
      </header>
      <nav class="main-navigation mdl-navigation mdl-color--blue-grey-800">
         <a href="/home" class="mdl-navigation__link" id="home-nav">
            <i role="presentation" class="mdl-color-text--blue-grey-400 material-icons">home</i>Home</a>
         <a href="/rigchecks" class="mdl-navigation__link" id="rigcheck-nav">
            <i role="presentation" class="mdl-color-text--blue-grey-400 material-icons">assignment_turned_in</i>Rig
            Check</a>
         {{#if currentUser.isSupervisor}}
            <!-- the supervisor is able to add and remove people and -->
            <a href="/checklists" class="mdl-navigation__link" id="checklist-nav">
               <i role="presentation" class="mdl-color-text--blue-grey-400 material-icons">assignment</i>Checklists</a>
            <a href="/squad" class="mdl-navigation__link" id="squad-nav">
               <i role="presentation" class="mdl-color-text--blue-grey-400 material-icons">people</i>Squad</a>
         {{/if}}
         {{#if currentUser.isChief}}
            <!-- only the chief is able to add ambulances -->
            <a href="/checklists" class="mdl-navigation__link" id="checklist-nav">
               <i role="presentation" class="mdl-color-text--blue-grey-400 material-icons">assignment</i>Checklists</a>
            <a href="/ambulances" class="mdl-navigation__link" id="ambulance-nav">
               <i role="presentation" class="mdl-color-text--blue-grey-400 material-icons">local_shipping</i>Ambulances</a>
            <a href="/squad" class="mdl-navigation__link" id="squad-nav">
               <i role="presentation" class="mdl-color-text--blue-grey-400 material-icons">people</i>Squad</a>
         {{/if}}
         <a href="/profile" class="mdl-navigation__link" id="profile-nav">
            <i role="presentation" class="mdl-color-text--blue-grey-400 material-icons">account_circle</i>Profile</a>
         <div class="mdl-layout-spacer"></div>
         <a href="/help" class="mdl-navigation__link" id="help-nav">
            <i role="presentation" class="mdl-color-text--blue-grey-400 material-icons">help_outline</i><span
                 class="visuallyhidden">Help</span></a>
      </nav>

   </div>
   <div class="mdl-tooltip mdl-tooltip--right" data-mdl-for="home-nav">See the dashboard</div>
   <div class="mdl-tooltip mdl-tooltip--right" data-mdl-for="rigcheck-nav">Make a rig check</div>
   <div class="mdl-tooltip mdl-tooltip--right" data-mdl-for="checklist-nav">Add or Edit a rig check checklist</div>
   <div class="mdl-tooltip mdl-tooltip--right" data-mdl-for="ambulance-nav">Add or Edit Ambulances</div>
   <div class="mdl-tooltip mdl-tooltip--right" data-mdl-for="squad-nav">Add, Remove, or Edit the squad and it's
      members
   </div>
   <div class="mdl-tooltip mdl-tooltip--right" data-mdl-for="profile-nav">Edit your profile</div>
   <div class="mdl-tooltip mdl-tooltip--right" data-mdl-for="help-nav">It's okay to be confused</div>

   <main class="mdl-layout__content mdl-color--grey-100">
      <div class="mdl-grid main-content">
         <!-- main content -->

         <div class="user-card mdl-shadow--2dp mdl-color--white mdl-cell mdl-card mdl-cell--12-col">
            <div class="mdl-card__title mdl-color--red-300">
               <h5 id="squad-info-name-number">{{ambulanceSquad.name}} {{ambulanceSquad.squadNumber}}</h5>
            </div>

            <div class="mdl-card__supporting-text mdl-card--expand mdl-color-text--grey-600">

               <table>
                  <tr>
                     <td>Company Name:</td>
                     <td id="squad-info-company-name">{{{ambulanceSquad.companyName}}}</td>
                  </tr>
                  <tr>
                     <td>Street:</td>
                     <td id="squad-info-street">{{{ambulanceSquad.street}}}</td>
                  </tr>
                  <tr>
                     <td>City:</td>
                     <td id="squad-info-city">{{{ambulanceSquad.city}}}</td>
                  </tr>
                  <tr>
                     <td>State:</td>
                     <td id="squad-info-state">{{{ambulanceSquad.state}}}</td>
                  </tr>
                  <tr>
                     <td>Zip:</td>
                     <td id="squad-info-zip">{{{ambulanceSquad.zip}}}</td>
                  </tr>
                  <tr>
                     <td>Phone:</td>
                     <td id="squad-info-phone">{{{ambulanceSquad.phone}}}</td>
                  </tr>
               </table>

            </div>

            <div class="mdl-card__actions mdl-card--border">

               <button id="edit-btn" class="right mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
                  <i class="material-icons">edit</i>
               </button>

            </div>

         </div>

         {{#each ambulanceSquad.Users}}
            <div id="user-{{id}}" class="user-card mdl-shadow--2dp mdl-color--white mdl-cell mdl-card mdl-cell--6-col">
               <div class="mdl-card__title mdl-card--expand mdl-color--red-300">
                  <h5>{{first}} {{last}}</h5>
               </div>

               <div class="mdl-card__supporting-text mdl-color-text--grey-600">
                  <strong>{{email}}</strong><br>
                  Username: {{username}} <br>
                  <strong> Phone: {{phone}} </strong>
                  <br> Role: {{role}}
               </div>

               {{#if ../currentUser.isChief}}
                  <div class="mdl-card__actions mdl-card--border ">

                     <button id="delete-btn"
                             class="right mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
                             value="{{this.id}}"
                             onclick='deleteUser(this)'>
                        <i class="material-icons ">delete</i>
                     </button>

                  </div>
               {{/if}}

            </div>

         {{/each}}

         {{#if isEmpty}}
            <h5 id="empty-text">There are no ambulances!</h5>
         {{/if}}

         <button id="fab-add"
                 class="mdl-button mdl-shadow--4dp mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored">
            <i class="material-icons">add</i>
         </button>

         <div class="mdl-tooltip mdl-tooltip--left" for="fab-add">
            Add a new user to the Squad
         </div>

      </div>
   </main>
</div>

<!-- edit squad profile dialog -->
<dialog class="edit-squad-dialog mdl-dialog">
   <h4 class="mdl-dialog__title">Edit Squad information.</h4>
   <div class="mdl-dialog__content">
      <p>
         You can edit the squad information here.
      </p>

      <form id="form-edit-squad" method="post">

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="squad-number" value="{{ambulanceSquad.squadNumber}}"
                   id="tf-squad-number">
            <label class="mdl-textfield__label" for="tf-squad-number">Squad Number:</label>
            <span id="tf-squad-number-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="squad-name" value="{{ambulanceSquad.name}}"
                   id="tf-squad-name">
            <label class="mdl-textfield__label" for="tf-squad-name">Squad Name:</label>
            <span id="tf-squad-name-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="squad-street" value="{{ambulanceSquad.street}}"
                   id="tf-squad-street">
            <label class="mdl-textfield__label" for="tf-squad-street">Street:</label>
            <span id="tf-squad-street-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="squad-city" value="{{ambulanceSquad.city}}"
                   id="tf-squad-city">
            <label class="mdl-textfield__label" for="tf-squad-city">City:</label>
            <span id="tf-squad-city-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="squad-state" value="{{ambulanceSquad.state}}"
                   id="tf-squad-state">
            <label class="mdl-textfield__label" for="tf-squad-state">State:</label>
            <span id="tf-squad-state-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="squad-zip" value="{{ambulanceSquad.zip}}"
                   id="tf-squad-zip">
            <label class="mdl-textfield__label" for="tf-squad-zip">Zip:</label>
            <span id="tf-squad-zip-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="squad-phone" value="{{ambulanceSquad.phone}}"
                   id="tf-squad-phone">
            <label class="mdl-textfield__label" for="tf-squad-phone">Phone:</label>
            <span id="tf-squad-phone-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="squad-company-name"
                   value="{{ambulanceSquad.companyName}}" id="tf-squad-company-name">
            <label class="mdl-textfield__label" for="tf-squad-company-name">Company name:</label>
            <span id="tf-squad-company-name-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

      </form>

   </div>
   <div class="mdl-dialog__actions">
      <button type="button" class="mdl-button edit">Edit</button>
      <button type="button" class="mdl-button close">Cancel</button>
   </div>
</dialog>

<!-- create dialog -->
<dialog class="create-squad-user-dialog mdl-dialog">
   <h4 class="mdl-dialog__title">Create User</h4>
   <div class="mdl-dialog__content">
      <p>
         To create a user, please enter the following information about the user
      </p>

      <form id="form-create-squad-user" method="post">

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="first" id="tf-first">
            <label class="mdl-textfield__label" for="tf-first">First name:</label>
            <span id="tf-first-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="last" id="tf-last">
            <label class="mdl-textfield__label" for="tf-last">Last name:</label>
            <span id="tf-last-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="email" id="tf-email">
            <label class="mdl-textfield__label" for="tf-email">Email:</label>
            <span id="tf-email-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="phone" id="tf-phone">
            <label class="mdl-textfield__label" for="tf-phone">Phone:</label>
            <span id="tf-phone-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" name="username" id="tf-username">
            <label class="mdl-textfield__label" for="tf-username">Username:</label>
            <span id="tf-username-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="password" name="password" id="tf-password">
            <label class="mdl-textfield__label" for="tf-password">Password:</label>
            <span id="tf-password-error" class="mdl-textfield__error">This cannot be empty!</span>
         </div>

         <strong>Role:</strong>
         <br>
         <label class="user-role-option-radio mdl-radio mdl-js-radio mdl-js-ripple-effect" for="ambulance-option-emt">
            <input type="radio" id="ambulance-option-emt" class="mdl-radio__button" name="user-role-options"
                   value="EMT">
            <span class="mdl-radio__label">EMT</span>
         </label>
         <br>
         <label class="user-role-option-radio mdl-radio mdl-js-radio mdl-js-ripple-effect"
                for="ambulance-option-supervisor">
            <input type="radio" id="ambulance-option-supervisor" class="mdl-radio__button" name="user-role-options"
                   value="SUPERVISOR">
            <span class="mdl-radio__label">SUPERVISOR</span>
         </label>

      </form>

   </div>
   <div class="mdl-dialog__actions">
      <button type="button" class="mdl-button create">Create</button>
      <button type="button" class="mdl-button close">Cancel</button>
   </div>
</dialog>

<!-- delete dialog -->
<dialog class="delete-user-dialog mdl-dialog">
   <h4 class="mdl-dialog__title">Delete User?</h4>
   <div class="mdl-dialog__content">
      <p>
         Are you sure you want to delete this user? You cannot undo this action.
      </p>

   </div>
   <div class="mdl-dialog__actions">
      <button type="button" class="mdl-button delete">Delete</button>
      <button type="button" class="mdl-button close">Cancel</button>
   </div>
</dialog>

<!-- toast that shows info -->
<div id="toast" class="mdl-js-snackbar mdl-snackbar">
   <div class="mdl-snackbar__text"></div>
   <button class="mdl-snackbar__action" type="button"></button>
</div>

</body>

<script src="/vendor/jquery-2.2.3.min.js"></script>
<script src="/vendor/jquery.form.min.js"></script>
<script src="/vendor/bootstrap.min.js"></script>
<script src="/js/views/squad.js"></script>
<script src="/js/controllers/squadController.js"></script>
<script src="https://code.getmdl.io/1.2.1/material.min.js"></script>

</html>